/**
 * Plugin Name: fluidSlider
 * Plugin URI: https://github.com/alb3rto/fluidSlider
 * Description: A simple slider based in fluid boxes and percentage widths.
 * Version: 0.1
 * Author: Alberto Sanchez
 * Author https://twitter.com/alb3rto269
 * License: The MIT License (MIT)
 */

!function(i){"use strict";function t(t,n){this.element=t,this.$el=i(t),this.options=i.extend({},e,n),this._defaults=e,this._name=s,this.init()}var s="slider",e={delay:8e3,autoPlay:!1,nav:""};t.prototype={init:function(){this.$list=this.$el.find("ul"),this.$items=this.$list.children(),this.size=this.$items.length,this.size&&(this.$list.css({visibilily:"visible",width:100*this.size+"%"}),this.$items.css("width",100/this.size+"%"),this.initNav(),this.options.autoPlay&&this.start())},start:function(){"undefined"==typeof this.current&&(this.current=0),this.play=!0,this._slide()},stop:function(){this.play=!1,this._clearSchedule()},index:function(i){return"undefined"==typeof i?this.current:void(this.current!=i&&(this.current=i%(this.size+1),this._slide()))},prev:function(){var i=this.index()||this.size;this.index(i-1)},next:function(){var i=this.index();this.index(i+1)},destroy:function(){this._clearSchedule(),this.$el.off(".Slider"),this.$el.removeData()},_slide:function(){if(this._clearSchedule(),this._animate(this.current),this.play&&this.current!=this.size){var t=i(this.$items[this.current]).data("delay")||this.options.delay;this._sliderProgram=setTimeout(i.proxy(this.next,this),t)}},_clearSchedule:function(){clearTimeout(this._sliderProgram)},_animate:function(i){var t,s=this;i==this.size&&(t=function(){s._reset(),s.index(0)}),this.$list.animate({"margin-left":-100*i+"%"},{duration:"slow",complete:t,done:function(){s._updateNav(i),s.$el.trigger("updated.Slider",{value:i})}})},_slideStep:function(t,s){i(t.elem).css("opacity",2*Math.abs(.5-s))},_reset:function(){this.$list.css("visibility","hidden").css("margin-left","100%").css("visibility","visible")},initNav:function(){"string"==typeof this.options.nav||this.options.nav instanceof Element?this.$navItems=i(this.options.nav).children():this.options.nav instanceof jQuery&&(this.$navItems=this.options.nav.children()),(this.$navSize=this.$navItems.length)&&(i.each(this.$navItems,function(t,s){i(s).data("Slider.Nav-index",t)}),this.$navItems.on("click",i.proxy(this._clickNav,this)))},_clickNav:function(t){t.preventDefault(),this._clearSchedule();var s=i(t.currentTarget).data("Slider.Nav-index");this.index(s)},_updateNav:function(t){t<this.$navSize&&(this.$navItems.find("a.is-active").removeClass("is-active"),i(this.$navItems[t]).find("a").addClass("is-active"))}},i.fn[s]=function(e){var n,a=arguments;return this.each(function(){var h=i(this),r=i.data(this,"plugin_"+s),l="object"==typeof e&&e;r||h.data("plugin_"+s,r=new t(this,l)),"string"==typeof e&&l.length&&"_"!=l[0]&&(n=r[e].apply(r,Array.prototype.slice.call(a,1)))}),"undefined"==typeof n?this:n}}(jQuery,window,document);
